{"version":3,"sources":["components/Helpers.ts","components/FileSelector.tsx","components/TrackDetails.tsx","components/Retailers.tsx","components/Locations.tsx","components/Home.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["toAmpSheet","rowObj","Artist","ContentType","DeliveryMethod","Distributor","ISRC","Label","PeriodFrom","PeriodTo","Quantity","ReleaseTitle","Revenue","SuitebeatsComp","Territory","TrackTitle","UPC","getMultiByKeyProp","key","data","byKeyProp","forEach","row","push","FileSelector","onLoad","loadFiles","toLoad","loaded","length","reader","FileReader","onload","e","target","result","name","slice","onerror","ex","console","log","readAsBinaryString","Button","variant","component","type","onChange","files","i","hidden","multiple","TrackDetails","sheet","byIsrc","rows","Object","keys","map","isrc","id","track","title","quantity","revenue","artist","style","height","width","columns","field","headerName","ALL","Retailers","React","useState","byRetailer","setByRetailer","currentSeries","setSeries","currentCategories","setCategories","allArtists","setAllArtists","currentArtist","setCurrentArtist","availableSeries","setAvailableSeries","selectedSeries","setSelectedSeries","useEffect","categories","artists","retailer","includes","streams","revTotal","streamTotal","parseInt","options","chart","plotOptions","bar","borderRadius","horizontal","dataLabels","enabled","xaxis","Box","Select","value","padding","margin","MenuItem","a","series","Locations","byLocation","getByLocation","locations","total","reduce","acc","labels","responsive","breakpoint","legend","position","Home","setSheet","values","sheetData","workbook","XLSX","sheetName","SheetNames","workSheet","Sheets","sheetRange","decode_range","testJson","sheet_to_csv","RS","startIndex","split","some","index","filter","h","sheet_to_json","range","s","c","r","loadAMPsuite","border","App","className","exact","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.80324e39.chunk.js","sourcesContent":["import * as XLSX from 'xlsx'\nimport { AmpSheetRow } from '../Types'\n\ninterface AmpSheetRaw {\n  Artist: string\n  'Content Type': string\n  'Delivery Method': string\n  Distributor: string\n  ISRC: string\n  Label: string\n  'Period From': string\n  'Period To': string\n  Quantity: string\n  'Release Title': string\n  Revenue: number\n  'Suitebeats Comp.': string\n  'Territory': string\n  'Track Title': string\n  UPC: string\n}\n\nfunction toAmpSheet(rowObj: AmpSheetRaw) {\n  return {\n    Artist: rowObj.Artist,\n    ContentType: rowObj['Content Type'],\n    DeliveryMethod: rowObj['Delivery Method'],\n    Distributor: rowObj.Distributor,\n    ISRC: rowObj.ISRC,\n    Label: rowObj.Label,\n    PeriodFrom: rowObj['Period From'],\n    PeriodTo: rowObj['Period To'],\n    Quantity: rowObj.Quantity,\n    ReleaseTitle: rowObj['Release Title'],\n    Revenue: rowObj.Revenue,\n    SuitebeatsComp: rowObj['Suitebeats Comp.'],\n    Territory: rowObj.Territory,\n    TrackTitle: rowObj['Track Title'],\n    UPC: rowObj.UPC\n  }\n}\n\nexport function loadAMPsuite(data: any): AmpSheetRow[] {\n  const workbook = XLSX.read(data, {\n    type: 'binary'\n  });\n  const sheetName = workbook.SheetNames[0]\n  const workSheet = workbook.Sheets[sheetName]\n  const sheetRange = XLSX.utils.decode_range(workSheet['!ref']!)\n  const testJson = XLSX.utils.sheet_to_csv(workSheet, { RS: '\\n'})\n  let startIndex = 0\n  testJson.split('\\n').some((row, index) => {\n    const fullCols = row.split(',').filter((h) => !!h)\n    // the first row with more than 10 cols is hopefully header row\n    if (fullCols.length > 10 && !startIndex) {\n      startIndex = index\n      return\n    }\n  })\n  const asJson = XLSX.utils.sheet_to_json<AmpSheetRaw>(workSheet, { range: { s: { c:0, r:startIndex }, e: sheetRange.e}})\n  return asJson.map(toAmpSheet)\n}\n\nexport function getByIsrc(data: AmpSheetRow[]) {\n  return getMultiByKeyProp('ISRC', data)\n}\n\nexport function getByTerritory(data: AmpSheetRow[]) {\n  return getMultiByKeyProp('Territory', data)\n}\n\nexport function getByArtist(data: AmpSheetRow[]) {\n  return getMultiByKeyProp('Artist', data)\n}\n\nexport function getByRetailer(data: AmpSheetRow[]) {\n  return getMultiByKeyProp('Distributor', data)\n}\n\nexport function getByLocation(data: AmpSheetRow[]) {\n  return getMultiByKeyProp('Territory', data)\n}\n\nexport function getMultiByKeyProp(key: keyof AmpSheetRow, data: AmpSheetRow[]) {\n  const byKeyProp: {[key: string]: AmpSheetRow[]} = {}\n  data.forEach((row) => {\n    !byKeyProp[row[key]] && (byKeyProp[row[key]] = [])\n    byKeyProp[row[key]].push(row)\n  })\n  return byKeyProp\n}\n\nexport function consolidateRvByDate(data: AmpSheetRow[]) {\n  const byDate: { [key: string]: number } = {}\n  data?.forEach((d) => {\n    !byDate[d.PeriodTo] && (byDate[d.PeriodTo] = 0)\n    byDate[d.PeriodTo] += d.Revenue\n  })\n  return byDate\n}\n","import React from 'react';\nimport { Button } from '@material-ui/core';\n\nexport default function FileSelector({ onLoad }: { onLoad: (data: any) => void }) {\n  function loadFiles(toLoad: any[], loaded: {[key: string]: any} = {}) {\n    if (!toLoad.length) {\n      onLoad(loaded)\n      return\n    }\n    const reader = new FileReader();\n    reader.onload = function(e) {\n      const data = e.target?.result;\n      loaded[toLoad[0].name] = data\n      loadFiles(toLoad.slice(1), loaded)\n    }\n    reader.onerror = function(ex) {\n      console.log(ex);\n    };\n    reader.readAsBinaryString(toLoad[0]);\n  }\n\n  function filesSelected(e: any) {\n    const files = []\n    for (let i=0; i<e.target.files.length; i++) {\n      files.push(e.target.files[i])\n    }\n    loadFiles(files)\n  }\n\n  return <Button\n    variant=\"contained\"\n    component=\"label\"\n  >\n    Upload Files\n    <input\n      type=\"file\"\n      onChange={filesSelected}\n      hidden\n      multiple\n    />\n  </Button>\n}\n","import { DataGrid, GridColDef, GridRowData, GridRowsProp } from '@material-ui/data-grid'\nimport { AmpSheetRow } from '../Types'\nimport { getByIsrc } from './Helpers'\n\nexport default function TrackDetails({ sheet }: { sheet: AmpSheetRow[]}) {\n  const cols: GridColDef[] = [\n    { field: 'title', headerName: 'Title', width: 150 },\n    { field: 'artist', headerName: 'Artist', width: 150 },\n    { field: 'quantity', headerName: 'Quantity', width: 150 },\n    { field: 'revenue', headerName: 'Revenue', width: 150 }\n  ]\n\n  const byIsrc = getByIsrc(sheet)\n  const rows: GridRowsProp = Object.keys(byIsrc).map((isrc, i) => {\n    const data: GridRowData = { id: i }\n    byIsrc[isrc].forEach((track) => {\n      data.title = track.TrackTitle\n      !data.quantity && (data.quantity = 0)\n      data.quantity += track.Quantity\n      !data.revenue && (data.revenue = 0)\n      data.revenue += track.Revenue\n      data.artist = track.Artist\n    })\n    return data\n  })\n\n  return <div style={{ height: 300, width: '100%' }}>\n    <DataGrid rows={rows} columns={cols}></DataGrid>\n  </div>\n}\n","import React from 'react'\nimport ReactApexChart from 'react-apexcharts'\nimport { AmpSheetRow } from '../Types'\nimport { getByRetailer } from './Helpers'\nimport { ApexOptions } from 'apexcharts'\nimport { Box, MenuItem, Select } from '@material-ui/core'\n\nconst ALL = 'all'\n\nexport default function Retailers({ sheet }: { sheet: AmpSheetRow[] }) {\n  const [byRetailer, setByRetailer] = React.useState<{[retailer: string]: AmpSheetRow[]}>({})\n  const [currentSeries, setSeries] = React.useState<{ data: number[] }[]>([])\n  const [currentCategories, setCategories] = React.useState<string[]>([])\n  const [allArtists, setAllArtists] = React.useState<string[]>([])\n  const [currentArtist, setCurrentArtist] = React.useState(ALL)\n  const [availableSeries, setAvailableSeries] = React.useState<{[label: string]: number[]}>({})\n  const [selectedSeries, setSelectedSeries] = React.useState('')\n\n  React.useEffect(() => {\n    const byRetailer = getByRetailer(sheet)\n    const categories: string[] = []\n    const artists: string[] = []\n    Object.keys(byRetailer).forEach((retailer) => {\n      categories.push(retailer)\n      byRetailer[retailer].forEach((track) => {\n        if (track.Artist && !artists.includes(track.Artist)) {\n          artists.push(track.Artist)\n        }\n      })\n    })\n    setByRetailer(byRetailer)\n    setCategories(categories)\n    setAllArtists(artists)\n  }, [sheet])\n\n  React.useEffect(() => {\n    const revenue: number[] = []\n    const streams: number[] = []\n    Object.keys(byRetailer).forEach((retailer) => {\n      let revTotal = 0\n      let streamTotal = 0\n      byRetailer[retailer].forEach((track) => {\n        if (currentArtist === ALL || currentArtist === track.Artist) {\n          revTotal += track.Revenue\n          streamTotal += parseInt(track.Quantity)\n        }\n      })\n      revenue.push(revTotal)\n      streams.push(streamTotal)\n    })\n    setAvailableSeries({ revenue, streams })\n    setSeries([{ data: streams }])\n    setSelectedSeries('streams')\n  }, [currentArtist, byRetailer])\n\n  React.useEffect(() => {\n    if (availableSeries[selectedSeries]) {\n      setSeries([{data: availableSeries[selectedSeries]}])\n    }\n  }, [selectedSeries, availableSeries])\n\n  const options: ApexOptions = {\n    chart: {\n      type: 'bar',\n      height: 350\n    },\n    plotOptions: {\n      bar: {\n        borderRadius: 4,\n        horizontal: true,\n      }\n    },\n    dataLabels: {\n      enabled: false\n    },\n    xaxis: {\n      categories: currentCategories,\n    }\n  }\n  return <Box>\n    <Select\n      value={currentArtist}\n      onChange={(e) => setCurrentArtist(e.target.value as string)}\n      style={{padding: 6, margin: 6}}\n      >\n      <MenuItem value={ALL}>All</MenuItem>\n      {allArtists.map((a) => <MenuItem key={a} value={a}>{a}</MenuItem>)}\n    </Select>\n    <Select\n      value={selectedSeries}\n      onChange={(e) => setSelectedSeries(e.target.value as string)}\n      style={{padding: 6, margin: 6}}\n      >\n      {Object.keys(availableSeries).map((series) => {\n        return <MenuItem key={series} value={series}>{series}</MenuItem>\n      })}\n    </Select>\n    <ReactApexChart options={options} series={currentSeries} type=\"bar\" height={350} />\n  </Box>\n}\n","import { AmpSheetRow } from '../Types'\nimport { getByLocation } from './Helpers'\nimport { ApexOptions } from 'apexcharts'\nimport ReactApexChart from 'react-apexcharts'\n\nexport default function Locations({ sheet }: { sheet: AmpSheetRow[] }) {\n  const byLocation = getByLocation(sheet)\n  const locations: string[] = []\n  const data: number[] = []\n  Object.keys(byLocation).forEach((retailer) => {\n    locations.push(retailer)\n    const total = byLocation[retailer].reduce((acc, track) => {\n      return acc + track.Revenue\n    }, 0)\n    data.push(total)\n  })\n\n  const options: ApexOptions = {\n    chart: {\n      type: 'donut',\n    },\n    labels: locations,\n    responsive: [{\n      breakpoint: 480,\n      options: {\n        chart: {\n          width: 200\n        },\n        legend: {\n          position: 'bottom'\n        }\n      }\n    }]\n  }\n\n  return <div>\n    <ReactApexChart options={options} series={data} type=\"donut\" height={350} />\n  </div>\n}\n","import React from 'react';\nimport { AmpSheetRow } from '../Types'\nimport { loadAMPsuite } from './Helpers'\nimport FileSelector from './FileSelector'\nimport TrackDetails from './TrackDetails'\nimport Retailers from './Retailers'\nimport Locations from './Locations'\n\nexport default function Home() {\n  const [sheet, setSheet] = React.useState<AmpSheetRow[]>([])\n\n  function fileSelected(data: any) {\n    const rows: AmpSheetRow[] = []\n    Object.values(data).forEach((sheetData) => {\n      rows.push(...loadAMPsuite(sheetData))\n    })\n    setSheet(rows)\n  }\n\n  return <div style={{ padding: 25 }}>\n    <div style={{ padding: 25 }}>\n      <FileSelector onLoad={fileSelected} />\n    </div>\n    {!!sheet.length && <div style={{ padding: 25, border: 'solid 1px' }}>\n      Tracks\n      <div style={{ padding: 25 }}>\n        <TrackDetails sheet={sheet} />\n      </div>\n      Retailers\n      <div style={{ padding: 25 }}>\n        <Retailers sheet={sheet} />\n      </div>\n      Locations\n      <div style={{ padding: 25 }}>\n        <Locations sheet={sheet} />\n      </div>\n    </div>\n    }\n  </div>\n}\n","import React from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport './App.css';\nimport Home from './components/Home'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}